---
title: C28197 | Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C28197
helpviewer_keywords:
- C28197
ms.assetid: b685f4c1-9bd1-4ca3-a2b6-6eb87877b5db
caps.latest.revision: 5
author: corob-msft
ms.author: corob
manager: jillfra
ms.openlocfilehash: f50e250daa58f0e423158623afd6761fd23304cb
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/02/2020
ms.locfileid: "77275353"
---
# <a name="c28197"></a>C28197
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Aviso C28197: possivelmente vazando memória  
  
 Esse aviso é relatado para vazamentos de memória e de recursos quando o recurso é potencialmente com alias para outro local.  
  
 O *ponteiro* aponta para a memória alocada ou para outro recurso alocado que não foi explicitamente liberado. Esse aviso geralmente se deve a anotações inadequadas na função chamada, embora anotações inadequadas na função de chamada também possam tornar isso mais provável.  
  
 Esse aviso pode ser relatado na saída da função se um argumento de entrada tiver uma `__drv_freesMem` `__drv_aliasesMem` anotação ou. Esse aviso normalmente indica um vazamento válido ou que uma função chamada pela função atual precisa de anotação adicional.  
  
 Em particular, a ausência de básico `_In_` e `_Out_` anotações tornam esse aviso bastante provável, embora as `__drv_aliasesMem` `__drv_freesMem` anotações e também possam ser necessárias. Um falso positivo é um resultado provável de uma `_In_` anotação ausente.  
  
 As funções que tomam um ponteiro e alias (evitando assim um vazamento) devem ser anotadas `__drv_aliasesMem` . Se você criar uma função que insere um objeto em uma estrutura global ou o transmite para uma função do sistema que faz isso, você deve adicionar a `__drv_aliasesMem` anotação.  
  
 Funções com que a memória livre deve ser anotada `__drv_freesMem` . As principais funções que a memória livre já têm essa anotação.  
  
## <a name="example"></a>Exemplo  
 O exemplo de código a seguir gera este aviso:  
  
```  
char *p = (char *)malloc(10);  
test(p);   // does not save a copy of p  
```  
  
 O exemplo de código a seguir evita esse aviso:  
  
```  
char *p = (char *)malloc(10);  
test(p);   // does not save a copy of p  
free(p);  
```
