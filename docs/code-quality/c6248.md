---
title: C6248
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C6248
helpviewer_keywords:
- C6248
ms.assetid: 75743622-7a79-4fe8-81b9-dbdfa1a12f3d
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: b80cbd9fccc62681894def5e9c15ee9f0b278496
ms.sourcegitcommit: 174c992ecdc868ecbf7d3cee654bbc2855aeb67d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/06/2019
ms.locfileid: "74878587"
---
# <a name="c6248"></a>C6248
Aviso C6248: definir a DACL de um SECURITY_DESCRIPTOR como NULL resultará em um objeto desprotegido

 Este aviso identifica uma chamada que define o campo DACL de um SECURITY_DESCRIPTOR para nulo. Se o DACL que pertence ao descritor de segurança de um objeto for definido como NULO, um DACL nulo é criado. DACL nulo concede acesso completo a qualquer usuário que o solicitar; a verificação normal de segurança não é executada em relação ao objeto. DACL zero não deve ser confundido com um DACL vazio. Um DACL vazio é corretamente atribuído e inicializado sem conter ACEs. Um DACL vazio não concede acesso ao objeto ao qual está atribuído.

 Os objetos que possuem DACLs nulas podem ter seus descritores de segurança modificados por usuários mal-intencionados de modo que ninguém tenha acesso ao objeto.

 Mesmo se todos precisarem ter acesso a um objeto, o objeto deve ser protegido de modo que apenas os administradores possam modificar sua segurança. Se apenas o criador precisar de acesso a um objeto, o DACL não deve ser definido no objeto; o sistema escolherá uma opção apropriada.

## <a name="example"></a>Exemplo
 O código a seguir gerencia este aviso, pois um DACL nulo é passado para a função `SetSecurityDescriptorDacl`:

```cpp
#include <windows.h>

void f( PSECURITY_DESCRIPTOR pSecurityDescriptor )
{
  if (SetSecurityDescriptorDacl(pSecurityDescriptor,
                                TRUE,     // Dacl Present
                                NULL,     // NULL pointer to DACL
                                FALSE))   // Defaulted
    {
      // Dacl is now applied to an object
    }
}
```

 Para ver um exemplo completo de como criar um descritor de segurança, consulte [criando um descritor de segurança para C++um novo objeto no ](/windows/desktop/SecAuthZ/creating-a-security-descriptor-for-a-new-object-in-c--). Para obter mais informações, consulte [criando uma DACL](/windows/desktop/SecBP/creating-a-dacl).
