---
title: 'CA2241: Fornecer argumentos corretos para métodos de formatação'
ms.date: 05/28/2020
ms.topic: reference
f1_keywords:
- CA2241
- Provide correct arguments to formatting methods
- ProvideCorrectArgumentsToFormattingMethods
helpviewer_keywords:
- ProvideCorrectArgumentsToFormattingMethods
- CA2241
ms.assetid: 83639bc4-4c91-4a07-a40e-dc5e49a84494
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 3c90b57b86418e8f94e4bf229ddc574372d94913
ms.sourcegitcommit: de98ed7edc81383e47b87ae6e61143fbbbe7bc56
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "88707693"
---
# <a name="ca2241-provide-correct-arguments-to-formatting-methods"></a>CA2241: Fornecer argumentos corretos para métodos de formatação

|Item|Valor|
|-|-|
|CheckId|CA2241|
|Categoria|Microsoft. Usage|
|Alteração significativa|Sem interrupção|

## <a name="cause"></a>Causa
O `format` argumento de cadeia de caracteres passado para um método como <xref:System.Console.WriteLine%2A> ,  <xref:System.Console.Write%2A> ou  <xref:System.String.Format%2A?displayProperty=fullName> não contém um item de formato que corresponde a cada argumento de objeto, ou vice-versa.

Por padrão, essa regra analisa apenas as chamadas para os três métodos mencionados acima, mas isso é [configurável](#configurability). 

## <a name="rule-description"></a>Descrição da regra
Os argumentos para métodos como <xref:System.Console.WriteLine%2A> , <xref:System.Console.Write%2A> e <xref:System.String.Format%2A> consistem em uma cadeia de caracteres de formato seguida por várias <xref:System.Object?displayProperty=fullName> instâncias. A cadeia de caracteres de formato consiste em texto e itens de formato inseridos do formulário, {index [, Alignment] [: formatString]}. ' Index ' é um inteiro de base zero que indica qual dos objetos a serem formatados. Se um objeto não tiver um índice correspondente na cadeia de caracteres de formato, o objeto será ignorado. Se o objeto especificado por ' Index ' não existir, um <xref:System.FormatException?displayProperty=fullName> será lançado em tempo de execução.

## <a name="how-to-fix-violations"></a>Como corrigir violações
Para corrigir uma violação dessa regra, forneça um item de formato para cada argumento de objeto e forneça um argumento de objeto para cada item de formato.

## <a name="when-to-suppress-warnings"></a>Quando suprimir avisos
Não suprima um aviso nessa regra.

## <a name="configurability"></a>Configurabilidade

Essa regra tem as seguintes opções configuráveis.

### <a name="additional-string-formatting-methods"></a>Métodos de formatação de cadeia de caracteres adicionais

Você pode configurar nomes de métodos de formatação de cadeia de caracteres adicionais que devem ser analisados por essa regra. Por exemplo, para especificar todos os métodos chamados `MyFormat` como métodos de formatação de cadeia de caracteres, você pode adicionar o seguinte par chave-valor a um arquivo. editorconfig em seu projeto:

```ini
dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat
```

Formatos de nome de método permitidos no valor de opção (separados por ' | '):
- Somente nome do método (inclui todos os métodos com o nome, independentemente do tipo ou namespace que os contém)
- Nomes totalmente qualificados no [formato de ID de documentação](https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format)do símbolo, com um `M:` prefixo opcional.

Exemplos:

| Valor de Opção | Resumo |
| --- | --- |
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat` | Corresponde a todos os métodos chamados ' myFormat ' na compilação
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat1|MyFormat2` | Corresponde a todos os métodos nomeados ' MyFormat1 ' ou ' MyFormat2 ' na compilação
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS.MyType.MyFormat(ParamType)` | Corresponde ao método específico ' myformable ' com a assinatura totalmente qualificada
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS1.MyType1.MyFormat1(ParamType)|NS2.MyType2.MyFormat2(ParamType)` | Corresponde aos métodos específicos ' MyFormat1 ' e ' MyFormat2 ' com a respectiva assinatura totalmente qualificada

Você pode configurar essa opção apenas para essa regra, para todas as regras ou para todas as regras nesta categoria (uso). Para obter mais informações, consulte [Configurar analisadores de qualidade de código .net](configure-fxcop-analyzers.md).

Como alternativa, em vez de especificar uma lista explícita de métodos de formatação de cadeia de caracteres adicionais, você pode configurar o analisador para tentar determinar automaticamente o método de formatação de cadeia de caracteres. Por padrão, essa opção está desabilitada. Se a opção estiver habilitada, qualquer método que tenha um `string format` parâmetro seguido por um `params object[]` parâmetro será considerado um método de formatação de cadeia de caracteres:

```ini
dotnet_code_quality.CA2241.try_determine_additional_string_formatting_methods_automatically = true
```

## <a name="example"></a>Exemplo
O exemplo a seguir mostra duas violações da regra.

[!code-vb[FxCop.Usage.FormattingArguments#1](../code-quality/codesnippet/VisualBasic/ca2241-provide-correct-arguments-to-formatting-methods_1.vb)]
[!code-csharp[FxCop.Usage.FormattingArguments#1](../code-quality/codesnippet/CSharp/ca2241-provide-correct-arguments-to-formatting-methods_1.cs)]
