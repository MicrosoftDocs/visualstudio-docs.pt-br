---
title: 'CA2120: Construtores de serialização seguros'
description: O tipo implementa a interface System. Runtime. Serialization. ISerializable, não é um delegate ou interface, e é declarado em um assembly que permite chamadores parcialmente confiáveis.
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2120
- SecureSerializationConstructors
helpviewer_keywords:
- SecureSerializationConstructors
- CA2120
ms.assetid: e9989da1-55a0-43f8-9aa9-da86afae3b41
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 83d1309af1b230fa4ea8c23d202dabab5e554738
ms.sourcegitcommit: a339547aa2f4e0f64b7afbcc3e1ade0a4f9287d2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/01/2021
ms.locfileid: "106170946"
---
# <a name="ca2120-secure-serialization-constructors"></a>CA2120: Construtores de serialização seguros

|Item|Valor|
|-|-|
|RuleId|CA2120|
|Categoria|Microsoft.Security|
|Alteração da falha|Quebra|

## <a name="cause"></a>Causa
O tipo implementa a <xref:System.Runtime.Serialization.ISerializable?displayProperty=fullName> interface, não é um delegate ou interface, e é declarado em um assembly que permite chamadores parcialmente confiáveis. O tipo tem um construtor que usa um <xref:System.Runtime.Serialization.SerializationInfo?displayProperty=fullName> objeto e um <xref:System.Runtime.Serialization.StreamingContext?displayProperty=fullName> objeto (a assinatura do construtor de serialização). Esse construtor não é protegido por uma verificação de segurança, mas um ou mais dos construtores regulares no tipo é protegido.

> [!NOTE]
> Esta regra foi preterida. Para obter mais informações, consulte [regras preteridas](fxcop-unported-deprecated-rules.md).

## <a name="rule-description"></a>Descrição da regra
Essa regra é relevante para tipos que dão suporte à serialização personalizada. Um tipo oferece suporte à serialização personalizada se ela implementar a <xref:System.Runtime.Serialization.ISerializable?displayProperty=fullName> interface. O construtor de serialização é necessário e é usado para desserializar ou recriar objetos que foram serializados usando o <xref:System.Runtime.Serialization.ISerializable.GetObjectData%2A?displayProperty=fullName> método. Como o construtor de serialização aloca e inicializa objetos, as verificações de segurança que estão presentes em construtores regulares também devem estar presentes no construtor de serialização. Se você violar essa regra, os chamadores que não podiam criar uma instância poderiam usar o construtor de serialização para fazer isso.

## <a name="how-to-fix-violations"></a>Como corrigir violações
Para corrigir uma violação dessa regra, proteja o construtor de serialização com as demandas de segurança que são idênticas àquelas que protegem outros construtores.

## <a name="when-to-suppress-warnings"></a>Quando suprimir avisos
Não suprimir uma violação da regra.

## <a name="example"></a>Exemplo
O exemplo a seguir mostra um tipo que viola a regra.

:::code language="csharp" source="../snippets/csharp/VS_Snippets_CodeAnalysis/FxCop.Security.SerialCtors/cs/FxCop.Security.SerialCtors.cs" id="Snippet1":::

## <a name="related-rules"></a>Regras relacionadas
[CA2229: Implementar construtores de serialização](/dotnet/fundamentals/code-analysis/quality-rules/ca2229)

[CA2237: Marcar tipos ISerializable com SerializableAttribute](/dotnet/fundamentals/code-analysis/quality-rules/ca2237)

## <a name="see-also"></a>Confira também

- <xref:System.Runtime.Serialization.ISerializable?displayProperty=fullName>
- <xref:System.Runtime.Serialization.SerializationInfo?displayProperty=fullName>
- <xref:System.Runtime.Serialization.StreamingContext?displayProperty=fullName>
