---
title: 'CA1501: evitar herança excessiva'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA1501
- AvoidExcessiveInheritance
helpviewer_keywords:
- AvoidExcessiveInheritance
- CA1501
ms.assetid: 9e934746-1a4d-492a-91e4-085201abafa4
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 4006bc2fe9923f6c0f5f4ecb6bec51073c19242e
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/21/2020
ms.locfileid: "81649128"
---
# <a name="ca1501-avoid-excessive-inheritance"></a>CA1501: evitar herança excessiva

|||
|-|-|
|TypeName|AvoidExcessiveInheritance|
|CheckId|CA1501|
|Categoria|Microsoft.Maintainability|
|Mudança de ruptura|Quebra|

## <a name="cause"></a>Causa

Um tipo está mais de quatro níveis abaixo na hierarquia de herança.

Por padrão, a regra exclui apenas `System` todos os tipos do namespace, mas isso é [configurável](#configurability).

## <a name="rule-description"></a>Descrição da regra

As hierarquias de tipo profundamente aninhado podem ser difíceis de seguir, compreender e manter. Esta regra limita a análise a hierarquias no mesmo módulo.

## <a name="how-to-fix-violations"></a>Como corrigir violações

Para corrigir uma violação desta regra, obtenha o tipo de um tipo de base que seja menos profundo na hierarquia de herança ou elimine alguns dos tipos de base intermediárias.

## <a name="when-to-suppress-warnings"></a>Quando suprimir avisos

É seguro suprimir um aviso desta regra. No entanto, o código pode ser mais difícil de manter. Observe que, dependendo da visibilidade dos tipos de base, resolver violações desta regra pode criar alterações de quebra. Por exemplo, remover tipos de base pública é uma mudança de ruptura.

## <a name="configurability"></a>Configurabilidade

### <a name="inheritance-excluded-type-or-namespace-names"></a>Nomes de tipo ou namespace excluídos da herança

Você pode configurar nomes de tipos ou namespaces (separados por '|'), de tal forma que o namespace do tipo ou do tipo não conte na árvore de hierarquia de herança. Por padrão, todos `System.*` os tipos do namespace são excluídos. Observe que não importa qual valor você está definindo, esse valor padrão será adicionado.

| Valor de Opção | Resumo |
| --- | --- |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = MyType` | Corresponde a todos os tipos denominados 'MyType' ou cujo espaço de nome contendo contém 'MyType' e todos os tipos do namespace 'System' |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = MyType1\|MyType2` | Corresponde a todos os tipos chamados 'MyType1' ou 'MyType2' ou cujo espaço de nome contendo contém 'MyType1' ou 'MyType2' e todos os tipos do namespace 'Sistema' |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = T:NS.MyType` | Corresponde ao tipo específico 'MyType' no namespace 'NS' e todos os tipos do namespace 'System' |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = T:NS1.MyType1\|T:NS2.MyType2` | Corresponde aos tipos específicos 'MyType1' e 'MyType2' com seus respectivos nomes totalmente qualificados e todos os tipos do namespace 'System' |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = N:NS` | Corresponde a todos os tipos do namespace 'NS' e todos os tipos do namespace 'System' |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = My*` | Corresponde a todos os tipos cujo nome começa com 'Meu' ou cujas partes contendo namespace começam com 'Meu' e todos os tipos do namespace 'System' |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = T:NS.My*` | Corresponde a todos os tipos cujo nome começa com 'Meu' no namespace 'NS' e todos os tipos do namespace 'System' |
|`dotnet_code_quality.CA1501.additional_inheritance_excluded_symbol_names = N:My*` | Corresponde a todos os tipos cujo espaço de nome contendo começa com 'Meu' e todos os tipos do namespace 'System' |

## <a name="example"></a>Exemplo

O exemplo a seguir mostra um tipo que viola a regra:

[!code-csharp[FxCop.Maintainability.ExcessiveInheritance#1](../code-quality/codesnippet/CSharp/ca1501-avoid-excessive-inheritance_1.cs)]
[!code-vb[FxCop.Maintainability.ExcessiveInheritance#1](../code-quality/codesnippet/VisualBasic/ca1501-avoid-excessive-inheritance_1.vb)]
